-- 创建电池数据表
CREATE TABLE IF NOT EXISTS battery_data (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    VID VARCHAR(50) NOT NULL COMMENT '电车VID',
    PID VARCHAR(50) NOT NULL COMMENT '电池PID',
    T DECIMAL(5,2) NOT NULL COMMENT '电池温度T',
    C DECIMAL(5,2) NOT NULL COMMENT '剩余电量C'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='电池数据表';

-- 创建电池状态记录表
CREATE TABLE IF NOT EXISTS battery_status_record (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    PID VARCHAR(50) NOT NULL COMMENT '电池PID',
    status INT NOT NULL COMMENT '电池状态(1:温度异常,2:电量过少,3:无法到达最近换电站)',
    time DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '创建时间'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='电池状态记录表'; 